---
title: 什么是 React 严格模式以及它有什么好处？
---

## TL;DR

React 严格模式是一个开发工具，可帮助识别应用程序中的潜在问题。它为其后代激活额外的检查和警告。它不呈现任何可见的 UI，也不会影响生产构建。其好处包括识别不安全的生命周期方法、警告旧的字符串 ref API 的使用、检测意外的副作用以及确保组件能够适应未来的变化。

***

## 什么是 React 严格模式以及它有什么好处？

### 什么是 React 严格模式？

React 严格模式是 React 中的一个功能，可帮助开发人员识别其应用程序中的潜在问题。它是一个包装组件，您可以使用它来包装应用程序的某些部分以启用额外的检查和警告。它不呈现任何可见的 UI，也不会影响生产构建。

要使用 React 严格模式，您可以使用 `StrictMode` 组件包装您的组件树：

```jsx
import React from 'react';
import ReactDOM from 'react-dom';

ReactDOM.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>,
  document.getElementById('root'),
);
```

### React 严格模式的好处

#### 识别不安全的生命周期方法

React 严格模式有助于识别使用不安全的生命周期方法的组件，例如 `componentWillMount`、`componentWillReceiveProps` 和 `componentWillUpdate`。这些方法被认为是不安全的，因为它们可能导致错误和意外行为。如果您的任何组件使用这些方法，React 严格模式将向您发出警告。

#### 警告旧的字符串 ref API 的使用

如果您正在使用旧的字符串 ref API，React 严格模式会向您发出警告。字符串 ref API 被认为是旧的，不建议在新代码中使用。相反，您应该使用回调 ref API 或 `React.createRef` API。

#### 检测意外的副作用

React 严格模式通过有意地双重调用某些生命周期方法和函数来帮助检测意外的副作用。这有助于确保您的组件能够适应未来的变化，并且它们不依赖于可能不总是执行的副作用。

#### 确保组件能够适应未来的变化

通过启用 React 严格模式，您可以确保您的组件更能适应 React 的未来变化。额外的检查和警告可帮助您尽早识别潜在问题，从而更容易维护和更新您的代码库。

## 延伸阅读

* [React Strict Mode Documentation](https://react.dev/reference/react/StrictMode)
* [React Lifecycle Methods](https://react.dev/reference/react/Component#adding-lifecycle-methods-to-a-class-component)
* [Refs and the DOM](https://react.dev/learn/manipulating-the-dom-with-refs)
